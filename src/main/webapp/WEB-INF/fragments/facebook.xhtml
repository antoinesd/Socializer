<?xml version="1.0" encoding="UTF-8"?>
<ui:composition 
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:panelGroup id="facebooktl" layout="block">
          <h:inputTextarea value="#{socialClient.status}" cols="60" rows="5"/>
        <h:commandButton action="#{facebookFeed.updateStatus(socialClient.status)}"
                         value="Update your status">
                <f:ajax render="facebooktl" execute="facebooktl"/>
            </h:commandButton>
            <br/>
            <p:dataList id="facebookFeed" value="#{facebookFeed.homeFeed}" var="post" type="none">
            <p:panel> <p:tooltip for="pict" value="#{post.from.name}" showEffect="fold"/>
            <p:graphicImage id="pict" value="https://graph.facebook.com/#{post.from.id}/picture"/>
            <h:outputText value="#{post.message}"/>
            <h:outputText value="#{post.description}" />
            <p:graphicImage url="#{post.picture}" rendered="#{!(empty post.picture)}"/>
            <p:graphicImage url="#{post.icon}" rendered="#{!(empty post.icon)}"/>
            
            </p:panel>
            </p:dataList>
    </h:panelGroup>
</ui:composition>
